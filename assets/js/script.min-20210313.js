var DOMLoaded=function(){var shuffleInstance,Shuffle=window.Shuffle,genreArray=Array.from(document.querySelectorAll(".filter-options button")),periodArray=Array.from(document.querySelectorAll(".period-options option")),criticArray=Array.from(document.querySelectorAll(".nav-item.criticButton:not(.mainToggle)")),networkArray=Array.from(document.querySelectorAll(".nav-item.networkButton:not(.mainToggleNetwork)")),nationalityArray=Array.from(document.querySelectorAll(".nav-item.nationalityButton:not(.mainToggleNationality)")),durationArray=Array.from(document.querySelectorAll(".nav-item.durationButton:not(.mainToggleDuration)")),gridContainerElement=document.querySelector("#grid"),criticInput=document.querySelector(".nav-item.criticAllocine"),networkInput=document.querySelector(".nav-item.mainToggleNetwork"),nationalityInput=document.querySelector(".nav-item.mainToggleNationality"),durationInput=document.querySelector(".nav-item.mainToggleDuration"),criticToggle0=document.querySelector("#criticToggle0").parentNode.parentNode,networkButton0=document.querySelector("#networkButton0").parentNode.parentNode,nationalityButton0=document.querySelector("#nationalityButton0").parentNode.parentNode,durationButton0=document.querySelector("#durationButton0").parentNode.parentNode,userRatingLi=document.querySelector(".nav-item.userRating"),imdbUserRatingLi=document.querySelector(".nav-item.imdbUserRating"),periodOption=document.querySelector(".period-options"),criticLi=document.querySelector(".criticRatings"),networkLi=document.querySelector(".networkPreferences"),nationalityLi=document.querySelector(".nationalityPreferences"),durationLi=document.querySelector(".durationPreferences"),tglDarkmode=document.querySelector(".tgl-darkmode"),criticNull=!1,criticNumberBool=!1,networkNumberBool=!1,nationalityNumberBool=!1,durationNumberBool=!1,localbuttonCriticNameNumber=0,localbuttonNetworkNameNumber=0,localbuttonNationalityNameNumber=0,localbuttonDurationNameNumber=0;const darkmode=new Darkmode({time:"0.5s",mixColor:"#FFFFFF",backgroundColor:"#EDEDED"});var url=new URL(window.location);const params=new URLSearchParams(url.search);function normalizeStr(str){var map={_:" |-",a:"ä|á|à|ã|â|Ä|À|Á|Ã|Â",e:"ë|é|è|ê|Ë|É|È|Ê",i:"ï|í|ì|î|Ï|Í|Ì|Î",o:"ö|ó|ò|ô|õ|Ö|Ó|Ò|Ô|Õ",u:"ú|ù|û|ü|Ú|Ù|Û|Ü",c:"ç|Ç",n:"ñ|Ñ"};if(null!=str)for(var pattern in map)str=str.replace(new RegExp(map[pattern],"g"),pattern);return str}function splitDate(altFormat){var newDate=altFormat.split(" "),altFormat=!0;switch(newDate[1]){case"Jan":newDate[1]="01";break;case"Feb":newDate[1]="02";break;case"Mar":newDate[1]="03";break;case"Apr":newDate[1]="04";break;case"May":newDate[1]="05";break;case"Jun":newDate[1]="06";break;case"Jul":newDate[1]="07";break;case"Aug":newDate[1]="08";break;case"Sep":newDate[1]="09";break;case"Oct":newDate[1]="10";break;case"Nov":newDate[1]="11";break;case"Dec":newDate[1]="12";break;default:newDate[1]=""}return"Mon"!=newDate[0]&&"Tue"!=newDate[0]&&"Wed"!=newDate[0]&&"Thu"!=newDate[0]&&"Fri"!=newDate[0]&&"Sat"!=newDate[0]&&"Sun"!=newDate[0]||(altFormat=!1),altFormat?newDate[1]+"/"+newDate[0]+"/"+newDate[2]:newDate[1]+"/"+newDate[2]+"/"+newDate[3]}function dateCheck(firstDateNew,lastDateNew,dateToCheckNew){firstDateNew=Date.parse(firstDateNew),lastDateNew=Date.parse(lastDateNew),dateToCheckNew=Date.parse(dateToCheckNew);return dateToCheckNew<=lastDateNew&&firstDateNew<=dateToCheckNew}function retrieveLocalData(item){return"true"==item||"false"!=item&&(localStorage.setItem("criticAllocine","true"),localStorage.setItem("usersAllocine","true"),localStorage.setItem("usersImdb","true"),1)}function removeItems(){localStorage.removeItem("critic"),localStorage.removeItem("title"),localStorage.removeItem("dateCreated")}function handleSearchKeyup(evt){var searchText=null==evt.target?evt:evt.target.value.toLowerCase();shuffleInstance.filter(function(element,shuffle){if(shuffle.group!==Shuffle.ALL_ITEMS&&!(-1!==JSON.parse(element.getAttribute("data-groups")).indexOf(shuffle.group)))return!1;return-1!==element.querySelector(".picture-item__title").textContent.toLowerCase().trim().indexOf(searchText)})}function handleOptionChange(){filters.periodArray=periodArray.filter(function(option){return option.selected}).map(function(option){return option.value}),"Default"==filters.periodArray&&(filters.periodArray=[]),filter()}function filter(){!function(){return Object.keys(filters).some(function(key){return 0<filters[key].length},this)}()?shuffleInstance.filter(Shuffle.ALL_ITEMS):shuffleInstance.filter(function(element){var periodArray=filters.periodArray,genreArray=filters.genreArray,networkArray=filters.networkArray,nationalityArray=filters.nationalityArray,durationArray=filters.durationArray,optionNew=element.getAttribute("data-date-formatted").split(","),buttonNew=element.getAttribute("data-genre").split(","),networkNew=element.getAttribute("data-network").split(","),nationalityNew=element.getAttribute("data-nationality").split(","),durationNew=element.getAttribute("data-duration").split(",");if(0<periodArray.length&&!periodArray.some(r=>optionNew.includes(r)))return!1;if(0<genreArray.length&&!genreArray.some(r=>buttonNew.includes(r)))return!1;if(0<networkArray.length&&!networkArray.some(r=>networkNew.includes(r)))return!1;if(0<nationalityArray.length&&!nationalityArray.some(r=>nationalityNew.includes(r)))return!1;if(0<durationArray.length&&!durationArray.some(r=>durationNew.includes(r)))return!1;return!0}.bind(this))}function toggleMode(){"additive"===localStorage.getItem("mode")?localStorage.setItem("mode","exclusive"):localStorage.setItem("mode","additive")}function toggleDarkmode(){darkmode.toggle(),getDarkmodeStatus()}function getDarkmodeStatus(){var body=document.body;"true"==localStorage.getItem("darkmode")||body.classList.contains("darkmode--activated")?(tglDarkmode.classList.add("far"),tglDarkmode.classList.remove("fas")):(tglDarkmode.classList.remove("far"),tglDarkmode.classList.add("fas"))}function toggleLocalData(item){var classListName=item.currentTarget.parentNode.parentNode.classList[1],classListNameActive=localStorage.getItem(classListName);"criticAllocine"!=classListName&&"usersAllocine"!=classListName&&"usersImdb"!=classListName||localStorage.setItem("menuBool",!0),"true"==classListNameActive?("criticAllocine"==classListName?item.currentTarget.innerHTML='Tout sélectionner<span><input id="criticToggle0" type="checkbox"><label for="criticToggle0"></label></span>':"mainToggleNetwork"==classListName?item.currentTarget.innerHTML='Tout sélectionner<span><input id="networkButton0" type="checkbox"><label for="networkButton0"></label></span>':"mainToggleNationality"==classListName?item.currentTarget.innerHTML='Tout sélectionner<span><input id="nationalityButton0" type="checkbox"><label for="nationalityButton0"></label></span>':"mainToggleDuration"==classListName?item.currentTarget.innerHTML='Tout sélectionner<span><input id="durationButton0" type="checkbox"><label for="durationButton0"></label></span>':"usersAllocine"==classListName?userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg"></i> Spectateurs AlloCiné<span class="criticNumber criticNumberZero">0</span>':"usersImdb"==classListName&&(imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg"></i> Spectateurs IMDb<span class="criticNumber criticNumberZero">0</span>'),item.currentTarget.children[0].children[0].removeAttribute("checked"),localStorage.setItem(classListName,"false")):("criticAllocine"==classListName?item.currentTarget.innerHTML='Tout désélectionner<span><input id="criticToggle0" type="checkbox"><label for="criticToggle0"></label></span>':"mainToggleNetwork"==classListName?item.currentTarget.innerHTML='Tout désélectionner<span><input id="networkButton0" type="checkbox"><label for="networkButton0"></label></span>':"mainToggleNationality"==classListName?item.currentTarget.innerHTML='Tout désélectionner<span><input id="nationalityButton0" type="checkbox"><label for="nationalityButton0"></label></span>':"mainToggleDuration"==classListName?item.currentTarget.innerHTML='Tout désélectionner<span><input id="durationButton0" type="checkbox"><label for="durationButton0"></label></span>':"usersAllocine"==classListName?userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg"></i> Spectateurs AlloCiné<span class="criticNumber">1</span>':"usersImdb"==classListName&&(imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg"></i> Spectateurs IMDb<span class="criticNumber">1</span>'),item.currentTarget.children[0].children[0].setAttribute("checked","checked"),localStorage.setItem(classListName,"true"))}function paramsURL(param){return params.get(param)}localStorage.setItem("menuBool",!1),fetch("https://yaquoicommeserie.fr/assets/js/data.json").then(function(response){return response.json()}).then(function(app){var tglCriticArray=app.data;criticArray.forEach(function(button){button.children[0].children[0].addEventListener("click",function(item){localStorage.setItem("menuBool",!0);var buttonCriticName=item.currentTarget.innerText;"true"==localStorage.getItem(buttonCriticName)?(item.currentTarget.children[0].children[0].removeAttribute("checked"),localStorage.setItem(buttonCriticName,"false"),localbuttonCriticNameNumber--):(item.currentTarget.children[0].children[0].setAttribute("checked","checked"),localStorage.setItem(buttonCriticName,"true"),localbuttonCriticNameNumber++);criticLi.children[1].children[0].innerHTML=0<localbuttonCriticNameNumber?'<i class="fas fa-newspaper fa-lg"></i> Presse AlloCiné<span class="criticNumber">'+localbuttonCriticNameNumber+"</span>":'<i class="fas fa-newspaper fa-lg"></i> Presse AlloCiné<span class="criticNumber criticNumberZero">0</span>'}.bind(this),!1);var buttonCriticName=button.children[0].children[0].textContent,localbuttonCriticName=localStorage.getItem(buttonCriticName);"true"==localbuttonCriticName||null==localbuttonCriticName?(criticNumberBool=!0,localbuttonCriticNameNumber++,null==localbuttonCriticName&&localStorage.setItem(buttonCriticName,"true")):"false"==localbuttonCriticName&&button.children[0].children[0].children[0].children[0].removeAttribute("checked")}),criticLi.children[1].children[0].innerHTML=0<localbuttonCriticNameNumber?'<i class="fas fa-newspaper fa-lg"></i> Presse AlloCiné<span class="criticNumber">'+localbuttonCriticNameNumber+"</span>":'<i class="fas fa-newspaper fa-lg"></i> Presse AlloCiné<span class="criticNumber criticNumberZero">0</span>',criticNumberBool?(localStorage.setItem("criticAllocine","true"),criticInput.children[0].children[0].innerHTML='Tout désélectionner<span><input id="criticToggle0" type="checkbox" checked="checked"><label for="criticToggle0"></label></span>'):(localStorage.setItem("criticAllocine","false"),criticInput.children[0].children[0].innerHTML='Tout sélectionner<span><input id="criticToggle0" type="checkbox"><label for="criticToggle0"></label></span>'),function(markup){gridContainerElement.insertAdjacentHTML("beforeend",markup)}(tglCriticArray.reduce(function(str,item){return str+function(dataForSingleItem){var genre,userDetailsUrl=dataForSingleItem.allocineData.title,picture=dataForSingleItem.allocineData.picture,usersImdbActive=dataForSingleItem.allocineData.status,url=dataForSingleItem.allocineData.url,today3=dataForSingleItem.imdbData.date,duration=dataForSingleItem.imdbData.duration,title=dataForSingleItem.allocineData.critic,criticDetailsUrl=dataForSingleItem.allocineData.criticNames,user=dataForSingleItem.allocineData.user,imdbId=dataForSingleItem.imdbData.imdbId,imdbRating=dataForSingleItem.imdbData.imdbRating,rating=0,imdbDetailsUrl=dataForSingleItem.allocineData.url.match(/=(.*)\./).pop();genre=void 0!==dataForSingleItem.allocineData.genre?void 0!==dataForSingleItem.allocineData.genre.id3?dataForSingleItem.allocineData.genre.id1+","+dataForSingleItem.allocineData.genre.id2+","+dataForSingleItem.allocineData.genre.id3:void 0!==dataForSingleItem.allocineData.genre.id2?dataForSingleItem.allocineData.genre.id1+","+dataForSingleItem.allocineData.genre.id2:void 0!==dataForSingleItem.allocineData.genre.id1?dataForSingleItem.allocineData.genre.id1:"Non renseigné":"Non renseigné";network=void 0!==dataForSingleItem.allocineData.network?void 0!==dataForSingleItem.allocineData.network.id5?dataForSingleItem.allocineData.network.id1+","+dataForSingleItem.allocineData.network.id2+","+dataForSingleItem.allocineData.network.id3+","+dataForSingleItem.allocineData.network.id4+","+dataForSingleItem.allocineData.network.id5:void 0!==dataForSingleItem.allocineData.network.id4?dataForSingleItem.allocineData.network.id1+","+dataForSingleItem.allocineData.network.id2+","+dataForSingleItem.allocineData.network.id3+","+dataForSingleItem.allocineData.network.id4:void 0!==dataForSingleItem.allocineData.network.id3?dataForSingleItem.allocineData.network.id1+","+dataForSingleItem.allocineData.network.id2+","+dataForSingleItem.allocineData.network.id3:void 0!==dataForSingleItem.allocineData.network.id2?dataForSingleItem.allocineData.network.id1+","+dataForSingleItem.allocineData.network.id2:void 0!==dataForSingleItem.allocineData.network.id1?dataForSingleItem.allocineData.network.id1:"Non renseignée":"Non renseignée";nationality=void 0!==dataForSingleItem.allocineData.nationality?void 0!==dataForSingleItem.allocineData.nationality.id3?dataForSingleItem.allocineData.nationality.id1+","+dataForSingleItem.allocineData.nationality.id2+","+dataForSingleItem.allocineData.nationality.id3:void 0!==dataForSingleItem.allocineData.nationality.id2?dataForSingleItem.allocineData.nationality.id1+","+dataForSingleItem.allocineData.nationality.id2:void 0!==dataForSingleItem.allocineData.nationality.id1?dataForSingleItem.allocineData.nationality.id1:"Non renseignée":"Non renseignée";duration=void 0!==dataForSingleItem.allocineData.duration?parseInt(dataForSingleItem.allocineData.duration)<=20?"20 minutes et moins":parseInt(dataForSingleItem.allocineData.duration)<=30?"De 20 à 30 minutes":parseInt(dataForSingleItem.allocineData.duration)<=40?"De 30 à 40 minutes":parseInt(dataForSingleItem.allocineData.duration)<=50?"De 40 à 50 minutes":parseInt(dataForSingleItem.allocineData.duration)<=60?"De 50 à 60 minutes":60<parseInt(dataForSingleItem.allocineData.duration)?"Plus de 60 minutes":"Non renseignée":"Non renseignée";var dateFormatted="";dateFormatted=""!=today3?(dateTemp=today3.replace(".",""),splitDate(dateTemp)):"01/01/1970";var userActive=new Date,criticActive=splitDate(String(userActive));userActive.setDate(userActive.getDate()-7);var isDateIncludedlast7Days=dateCheck(userActive.getMonth()+1+"/"+userActive.getDate()+"/"+userActive.getFullYear(),criticActive,dateFormatted),today3=new Date,userActive=splitDate(String(today3));today3.setDate(today3.getDate()-14);criticActive=dateCheck(today3.getMonth()+1+"/"+today3.getDate()+"/"+today3.getFullYear(),userActive,dateFormatted),today3=new Date,userActive=splitDate(String(today3));today3.setDate(today3.getDate()-21);userActive=dateCheck(today3.getMonth()+1+"/"+today3.getDate()+"/"+today3.getFullYear(),userActive,dateFormatted);dateFormattedFilter=function(isDateIncludedlast7Days,isDateIncludedlast14Days,isDateIncludedlast21Days,status){var text="",text2="";isDateIncludedlast7Days?text="Les 7 derniers jours,Les 2 dernières semaines,Les 3 dernières semaines":isDateIncludedlast14Days?text="Les 7 derniers jours,Les 2 dernières semaines":isDateIncludedlast21Days&&(text="Les 3 dernières semaines");"En cours"==status?text2="En cours":"Terminée"==status?text2="Terminée":"À venir"==status?text2="À venir":"Annulée"==status&&(text2="Annulée");return""==text?text2:""==text2?text:text+","+text2}(isDateIncludedlast7Days,criticActive,userActive,usersImdbActive),critic=function(criticFix,criticNames){var buttonCriticNameNew,critic=0,criticNumber=0,res=0;critic=0<Object.keys(criticNames).length?(criticArray.forEach(function(last7Char){var buttonCriticName=last7Char.children[0].children[0].textContent,localbuttonCriticName=localStorage.getItem(buttonCriticName),last7Char=buttonCriticName.substr(buttonCriticName.length-7);buttonCriticNameTemp=" Contre"==last7Char?buttonCriticName.replace(" Contre","2"):buttonCriticName,buttonCriticNameNew=buttonCriticNameTemp.replace("'","&#039;"),"true"==localbuttonCriticName&&null!=criticNames[buttonCriticNameNew]?(res+=parseFloat(criticNames[buttonCriticNameNew]),criticNumber++):null==localbuttonCriticName&&(criticNull=!0)}),criticNull?criticFix:(critic=parseFloat(res/criticNumber))||0):0;return critic}(title,criticDetailsUrl),""==user&&(user=0);""==imdbRating&&(imdbRating=0);var criticActive=localStorage.getItem("criticAllocine"),userActive=localStorage.getItem("usersAllocine"),usersImdbActive=localStorage.getItem("usersImdb"),title=document.querySelector(".nav-item.usersAllocine"),criticDetailsUrl=document.querySelector(".nav-item.usersImdb");retrieveLocalData(criticActive)&&retrieveLocalData(userActive)&&retrieveLocalData(usersImdbActive)?(rating=3,criticDetails=0==critic?(rating--,"/"):parseFloat(critic).toFixed(2).replace(/([0-9]+(\.[0-9]+[1-9])?)(\.?0+$)/,"$1")+"<span>/5</span>",userDetails=0==user?(rating--,"/"):user+"<span>/5</span>",imdbDetails=0==imdbRating?(rating--,"/"):imdbRating+"<span>/10</span>",ratingTemp=(parseFloat(critic)+parseFloat(user)+parseFloat(imdbRating/2))/rating,userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg"></i> Spectateurs AlloCiné<span class="criticNumber">1</span>',imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg"></i> Spectateurs IMDb<span class="criticNumber">1</span>'):retrieveLocalData(criticActive)&&retrieveLocalData(usersImdbActive)?(rating=2,criticDetails=0==critic?(rating--,"/"):parseFloat(critic).toFixed(2).replace(/([0-9]+(\.[0-9]+[1-9])?)(\.?0+$)/,"$1")+"<span>/5</span>",imdbDetails=0==imdbRating?(rating--,"/"):imdbRating+"<span>/10</span>",ratingTemp=(parseFloat(critic)+parseFloat(imdbRating/2))/rating,userDetails="/",title.children[0].children[0].children[0].children[0].removeAttribute("checked"),userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg"></i> Spectateurs AlloCiné<span class="criticNumber criticNumberZero">0</span>',imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg"></i> Spectateurs IMDb<span class="criticNumber">1</span>'):retrieveLocalData(userActive)&&retrieveLocalData(usersImdbActive)?(rating=2,userDetails=0==user?(rating--,"/"):user+"<span>/5</span>",imdbDetails=0==imdbRating?(rating--,"/"):imdbRating+"<span>/10</span>",ratingTemp=(parseFloat(user)+parseFloat(imdbRating/2))/rating,criticDetails="/",criticInput.children[0].children[0].children[0].children[0].removeAttribute("checked"),userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg"></i> Spectateurs AlloCiné<span class="criticNumber">1</span>',imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg"></i> Spectateurs IMDb<span class="criticNumber">1</span>'):retrieveLocalData(criticActive)&&retrieveLocalData(userActive)?(rating=2,criticDetails=0==critic?(rating--,"/"):parseFloat(critic).toFixed(2).replace(/([0-9]+(\.[0-9]+[1-9])?)(\.?0+$)/,"$1")+"<span>/5</span>",userDetails=0==user?(rating--,"/"):user+"<span>/5</span>",ratingTemp=(parseFloat(critic)+parseFloat(user))/rating,imdbDetails="/",criticDetailsUrl.children[0].children[0].children[0].children[0].removeAttribute("checked"),userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg"></i> Spectateurs AlloCiné<span class="criticNumber">1</span>',imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg"></i> Spectateurs IMDb<span class="criticNumber criticNumberZero">0</span>'):retrieveLocalData(criticActive)?(rating=1,criticDetails=0==critic?(rating--,"/"):parseFloat(critic).toFixed(2).replace(/([0-9]+(\.[0-9]+[1-9])?)(\.?0+$)/,"$1")+"<span>/5</span>",ratingTemp=parseFloat(critic)/rating,userDetails=imdbDetails="/",title.children[0].children[0].children[0].children[0].removeAttribute("checked"),criticDetailsUrl.children[0].children[0].children[0].children[0].removeAttribute("checked"),userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg"></i> Spectateurs AlloCiné<span class="criticNumber criticNumberZero">0</span>',imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg"></i> Spectateurs IMDb<span class="criticNumber criticNumberZero">0</span>'):retrieveLocalData(userActive)?(rating=1,userDetails=0==user?(rating--,"/"):parseFloat(user).toFixed(2).replace(/([0-9]+(\.[0-9]+[1-9])?)(\.?0+$)/,"$1")+"<span>/5</span>",ratingTemp=parseFloat(user)/rating,criticDetails=imdbDetails="/",criticInput.children[0].children[0].children[0].children[0].removeAttribute("checked"),criticDetailsUrl.children[0].children[0].children[0].children[0].removeAttribute("checked"),userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg"></i> Spectateurs AlloCiné<span class="criticNumber">1</span>',imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg"></i> Spectateurs IMDb<span class="criticNumber criticNumberZero">0</span>'):retrieveLocalData(usersImdbActive)?(rating=1,imdbDetails=0==imdbRating?(rating--,"/"):parseFloat(imdbRating).toFixed(2).replace(/([0-9]+(\.[0-9]+[1-9])?)(\.?0+$)/,"$1")+"<span>/10</span>",ratingTemp=parseFloat(imdbRating/2)/rating,criticDetails=userDetails="/",criticInput.children[0].children[0].children[0].children[0].removeAttribute("checked"),title.children[0].children[0].children[0].children[0].removeAttribute("checked"),userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg"></i> Spectateurs AlloCiné<span class="criticNumber criticNumberZero">0</span>',imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg"></i> Spectateurs IMDb<span class="criticNumber">1</span>'):(ratingTemp=0,criticDetails=userDetails=imdbDetails="/",criticInput.children[0].children[0].children[0].children[0].removeAttribute("checked"),title.children[0].children[0].children[0].children[0].removeAttribute("checked"),criticDetailsUrl.children[0].children[0].children[0].children[0].removeAttribute("checked"),userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg"></i> Spectateurs AlloCiné<span class="criticNumber criticNumberZero">0</span>',imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg"></i> Spectateurs IMDb<span class="criticNumber criticNumberZero">0</span>');ratingTemp=ratingTemp||0,ratingToFixed=ratingTemp.toFixed(2),rating=ratingToFixed.replace(/([0-9]+(\.[0-9]+[1-9])?)(\.?0+$)/,"$1")+"<span>/5</span>",title=15<userDetailsUrl.length?userDetailsUrl.substring(0,14)+"...":dataForSingleItem.allocineData.title;criticDetailsUrl="";criticDetailsUrl="/"==criticDetails?'<a href="javascript:void(0)"><i class="fas fa-newspaper"></i>'+criticDetails+"</a>":'<a href="https://www.allocine.fr/series/ficheserie-'+imdbDetailsUrl+'/critiques/presse/" target="_blank"><i class="fas fa-newspaper"></i>'+criticDetails+"</a>";userDetailsUrl="";userDetailsUrl="/"==userDetails?'<a href="javascript:void(0)"><i class="fas fa-users"></i>'+userDetails+"</a>":'<a href="https://www.allocine.fr/series/ficheserie-'+imdbDetailsUrl+'/critiques/" target="_blank"><i class="fas fa-users"></i>'+userDetails+"</a>";imdbDetailsUrl="";imdbDetailsUrl="/"==imdbDetails?'<a href="javascript:void(0)"><i class="fab fa-imdb"></i>'+imdbDetails+"</a>":'<a href="https://www.imdb.com/title/'+imdbId+'/" target="_blank"><i class="fab fa-imdb"></i>'+imdbDetails+"</a>";return['<figure class="col-3@xs col-4@sm col-3@md picture-item shuffle-item shuffle-item--visible" data-genre="'+genre+'" data-network="'+network+'" data-nationality="'+nationality+'" data-duration="'+duration+'" data-date-formatted="'+dateFormattedFilter+'" data-critic="'+ratingToFixed+'" data-date-created="'+dateFormatted+'" data-title="'+normalizeStr(title)+'" style="position: absolute; top: 0px; left: 0px; visibility: visible; will-change: transform; opacity: 1; transition-duration: 250ms; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-property: transform, opacity;">','<div class="picture-item__inner">','<div class="aspect aspect--16x9">','<div class="aspect__inner">','<a href="'+url+'" target="_blank" rel="noopener" title="'+dataForSingleItem.allocineData.title+'">','<img src="'+picture+'" srcset="'+picture+'" alt="'+title+'">',"</a>",'<img class="picture-item__blur" src="'+picture+'" srcset="'+picture+'" alt="">','<div class="aspect__inner overlayInfos displayNone">',criticDetailsUrl,userDetailsUrl,imdbDetailsUrl,"</div>","</div>","</div>",'<div class="picture-item__details">','<figcaption class="picture-item__title">','<a href="'+url+'" target="_blank" rel="noopener" title="'+dataForSingleItem.allocineData.title+'">'+title+"</a>","</figcaption>",'<a href="javascript:void(0)">','<p class="picture-item__tags">'+rating+"</p>","</a>","</div>","</div>","</figure>"].join("")}(item)},"")),shuffleInstance=new Shuffle(gridContainerElement,{itemSelector:".picture-item",sizer:".my-sizer-element"}),filters={periodArray:[],genreArray:[],networkArray:["No network"],nationalityArray:["No nationality"],durationArray:["No duration"]};var shortcutId,i,criticButtonNumber,networkNumber,nationalityNumber,durationNumber,tglNationalityArray=localStorage.getItem("mode"),tglNetworkArray=document.querySelector(".filter-label");tglNetworkArray.innerHTML="additive"===tglNationalityArray?'Genre (cumuler <input id="inputToggle" type="checkbox" checked><label for="inputToggle">)</label>':'Genre (cumuler <input id="inputToggle" type="checkbox"><label for="inputToggle">)</label>',removeItems(),function(){var searchInput=document.querySelector(".js-shuffle-search"),searchParam=paramsURL("recherche");searchInput&&(params.has("recherche")&&setTimeout(function(){handleSearchKeyup(document.querySelector(".js-shuffle-search").value=searchParam)},200),searchInput.addEventListener("input",handleSearchKeyup.bind(this)))}(),function(){var buttonGroup=document.querySelector(".sort-options");buttonGroup&&buttonGroup.addEventListener("change",function(evt){Array.from(evt.currentTarget.children).forEach(function(button){button.querySelector("input").value===evt.target.value?button.classList.add("active"):button.classList.remove("active")});var value=evt.target.value,options={};function sortByDate(element){return Date.parse(element.getAttribute("data-date-created"))}function sortByTitle(element){return element.getAttribute("data-title").toLowerCase()}function sortCritic(element){return element.getAttribute("data-critic")}"date-created"===value?"true"===localStorage.getItem("dateCreated")?(options={reverse:!1,by:sortByDate},evt.target.parentNode.innerHTML='<input type="radio" name="sort-value" value="date-created"> Date de diffusion <i class="fas fa-arrow-up"></i>',localStorage.setItem("dateCreated","false")):(options={reverse:!0,by:sortByDate},evt.target.parentNode.innerHTML='<input type="radio" name="sort-value" value="date-created"> Date de diffusion <i class="fas fa-arrow-down"></i>',localStorage.setItem("dateCreated","true")):"title"===value?"true"===localStorage.getItem("title")?(options={reverse:!0,by:sortByTitle},evt.target.parentNode.innerHTML='<input type="radio" name="sort-value" value="title"> Titre <i class="fas fa-arrow-up"></i>',localStorage.setItem("title","false")):(options={reverse:!1,by:sortByTitle},evt.target.parentNode.innerHTML='<input type="radio" name="sort-value" value="title"> Titre <i class="fas fa-arrow-down"></i>',localStorage.setItem("title","true")):"critic"===value&&("true"===localStorage.getItem("critic")?(options={reverse:!1,by:sortCritic},evt.target.parentNode.innerHTML='<input type="radio" name="sort-value" value="critic"> Note <i class="fas fa-arrow-up"></i>',localStorage.setItem("critic","false")):(options={reverse:!0,by:sortCritic},evt.target.parentNode.innerHTML='<input type="radio" name="sort-value" value="critic"> Note <i class="fas fa-arrow-down"></i>',localStorage.setItem("critic","true")));shuffleInstance.sort(options)}.bind(this))}(),function(){var activePeriod=normalizeStr(paramsURL("diffusion"));"les_7_derniers_jours"==activePeriod?activePeriod="Les 7 derniers jours":"les_2_dernieres_semaines"==activePeriod?activePeriod="Les 2 dernières semaines":"les_3_dernieres_semaines"==activePeriod?activePeriod="Les 3 dernières semaines":"en_cours"==activePeriod?activePeriod="En cours":"terminee"==activePeriod?activePeriod="Terminée":"a_venir"==activePeriod?activePeriod="À venir":"annulee"==activePeriod?activePeriod="Annulée":null==(activePeriod=localStorage.getItem("activePeriod"))&&(activePeriod="Les 7 derniers jours"),setTimeout(function(){periodOption.value=activePeriod,periodOption.options[periodOption.selectedIndex].setAttribute("selected","selected"),localStorage.setItem("activePeriod",activePeriod),handleOptionChange()},100)}(),periodOption.addEventListener("change",function(){periodOption.options[periodOption.selectedIndex].setAttribute("selected","selected"),handleOptionChange(),activePeriod=periodOption.options[periodOption.selectedIndex].value,localStorage.setItem("activePeriod",activePeriod)}),genreArray.forEach(function(button){button.addEventListener("click",function(btnGroup){var mode=localStorage.getItem("mode");null==mode&&localStorage.setItem("mode","exclusive");var btn=btnGroup.currentTarget,isActive=btn.classList.contains("active"),btnGroup=btn.getAttribute("data-group");"additive"===mode?(isActive?filters.genreArray.splice(filters.genreArray.indexOf(btnGroup),1):filters.genreArray.push(btnGroup),btn.classList.toggle("active")):(function(){for(var children=btn.parentNode.children,i=children.length-1;0<=i;i--)children[i].classList.remove("active")}(),isActive?(btn.classList.remove("active"),filters.genreArray=[]):(btn.classList.add("active"),filters.genreArray=genreArray.filter(function(button){return button.classList.contains("active")}).map(function(button){return button.getAttribute("data-group")}))),filter()}.bind(this))},!1),document.querySelector("#inputToggle").addEventListener("click",toggleMode,!1),tglDarkmode.addEventListener("click",toggleDarkmode,!1),removeItems(),document.getElementById("defaultInput").click(),shortcutId=document.getElementById("shortcut"),(app=document.querySelector(".textfield")).addEventListener("focus",function(){shortcutId.classList.remove("displayNone")}),app.addEventListener("focusout",function(){shortcutId.classList.add("displayNone")}),getDarkmodeStatus(),tglCriticArray=Array.from(document.querySelectorAll(".nav-item.mainToggle")),tglNetworkArray=Array.from(document.querySelectorAll(".nav-item.mainToggleNetwork")),tglNationalityArray=Array.from(document.querySelectorAll(".nav-item.mainToggleNationality")),app=Array.from(document.querySelectorAll(".nav-item.mainToggleDuration")),tglCriticArray.forEach(function(toggle){toggle.children[0].children[0].addEventListener("click",toggleLocalData.bind(this),!1)}),tglNetworkArray.forEach(function(toggle){toggle.children[0].children[0].addEventListener("click",toggleLocalData.bind(this),!1)}),tglNationalityArray.forEach(function(toggle){toggle.children[0].children[0].addEventListener("click",toggleLocalData.bind(this),!1)}),app.forEach(function(toggle){toggle.children[0].children[0].addEventListener("click",toggleLocalData.bind(this),!1)}),app=document.querySelectorAll(".nav-item.criticButton:not(.mainToggle)"),app=Array.from(app),i=1,app.forEach(function(button){var ulListLoad=button.children[0].children[0].textContent,secondListItemLoad=localStorage.getItem(ulListLoad);button.children[0].children[0].addEventListener("click",function(){var ulList=this.parentNode.parentNode.parentNode,liItem=this.parentNode.parentNode,secondListItem=this.parentNode.parentNode.parentNode.childNodes[1];"checked"==this.children[0].children[0].getAttribute("checked")&&ulList.insertBefore(liItem,secondListItem)},!1),"true"==secondListItemLoad&&(ulListLoad=button.parentNode,secondListItemLoad=button.parentNode.childNodes[i],ulListLoad.insertBefore(button,secondListItemLoad),i++)}),networkArray.forEach(function(network){network.children[0].children[0].addEventListener("click",function(evt){var buttonNetworkName=evt.currentTarget.textContent;"checked"==evt.currentTarget.children[0].children[0].getAttribute("checked")?(filters.networkArray.splice(filters.networkArray.indexOf(buttonNetworkName),1),evt.currentTarget.children[0].children[0].removeAttribute("checked"),localStorage.setItem(buttonNetworkName,"false"),localbuttonNetworkNameNumber--):(filters.networkArray.push(buttonNetworkName),evt.currentTarget.children[0].children[0].setAttribute("checked","checked"),localStorage.setItem(buttonNetworkName,"true"),localbuttonNetworkNameNumber++);filter(),networkLi.children[1].children[0].innerHTML=0<localbuttonNetworkNameNumber?'<i class="fas fa-tv fa-lg"></i> Plateforme<span class="criticNumber">'+localbuttonNetworkNameNumber+"</span>":'<i class="fas fa-tv fa-lg"></i> Plateforme<span class="criticNumber criticNumberZero">0</span>'}.bind(this),!1);var buttonNetworkName=network.children[0].children[0].textContent,localbuttonNetworkName=localStorage.getItem(buttonNetworkName);"true"==localbuttonNetworkName||null==localbuttonNetworkName?(networkNumberBool=!0,localbuttonNetworkNameNumber++,null==localbuttonNetworkName&&localStorage.setItem(buttonNetworkName,"true"),filters.networkArray.push(buttonNetworkName),filter()):"false"==localbuttonNetworkName&&network.children[0].children[0].children[0].children[0].removeAttribute("checked")}),networkLi.children[1].children[0].innerHTML=0<localbuttonNetworkNameNumber?'<i class="fas fa-tv fa-lg"></i> Plateformes<span class="criticNumber">'+localbuttonNetworkNameNumber+"</span>":'<i class="fas fa-tv fa-lg"></i> Plateformes<span class="criticNumber criticNumberZero">0</span>',networkNumberBool?(localStorage.setItem("mainToggleNetwork","true"),networkInput.children[0].children[0].innerHTML='Tout désélectionner<span><input id="networkButton0" type="checkbox" checked="checked"><label for="networkButton0"></label></span>'):(localStorage.setItem("mainToggleNetwork","false"),networkInput.children[0].children[0].innerHTML='Tout sélectionner<span><input id="networkButton0" type="checkbox"><label for="networkButton0"></label></span>'),nationalityArray.forEach(function(nationality){nationality.children[0].children[0].addEventListener("click",function(evt){var buttonNationalityName=evt.currentTarget.textContent;"checked"==evt.currentTarget.children[0].children[0].getAttribute("checked")?(filters.nationalityArray.splice(filters.nationalityArray.indexOf(buttonNationalityName),1),evt.currentTarget.children[0].children[0].removeAttribute("checked"),localStorage.setItem(buttonNationalityName,"false"),localbuttonNationalityNameNumber--):(filters.nationalityArray.push(buttonNationalityName),evt.currentTarget.children[0].children[0].setAttribute("checked","checked"),localStorage.setItem(buttonNationalityName,"true"),localbuttonNationalityNameNumber++);filter(),nationalityLi.children[1].children[0].innerHTML=0<localbuttonNationalityNameNumber?'<i class="fas fa-flag fa-lg"></i> Nationalités<span class="criticNumber">'+localbuttonNationalityNameNumber+"</span>":'<i class="fas fa-flag fa-lg"></i> Nationalités<span class="criticNumber criticNumberZero">0</span>'}.bind(this),!1);var buttonNationalityName=nationality.children[0].children[0].textContent,localbuttonNationalityName=localStorage.getItem(buttonNationalityName);"true"==localbuttonNationalityName||null==localbuttonNationalityName?(nationalityNumberBool=!0,localbuttonNationalityNameNumber++,null==localbuttonNationalityName&&localStorage.setItem(buttonNationalityName,"true"),filters.nationalityArray.push(buttonNationalityName),filter()):"false"==localbuttonNationalityName&&nationality.children[0].children[0].children[0].children[0].removeAttribute("checked")}),nationalityLi.children[1].children[0].innerHTML=0<localbuttonNationalityNameNumber?'<i class="fas fa-flag fa-lg"></i> Nationalités<span class="criticNumber">'+localbuttonNationalityNameNumber+"</span>":'<i class="fas fa-flag fa-lg"></i> Nationalités<span class="criticNumber criticNumberZero">0</span>',nationalityNumberBool?(localStorage.setItem("mainToggleNationality","true"),nationalityInput.children[0].children[0].innerHTML='Tout désélectionner<span><input id="nationalityButton0" type="checkbox" checked="checked"><label for="nationalityButton0"></label></span>'):(localStorage.setItem("mainToggleNationality","false"),nationalityInput.children[0].children[0].innerHTML='Tout sélectionner<span><input id="nationalityButton0" type="checkbox"><label for="nationalityButton0"></label></span>'),durationArray.forEach(function(duration){duration.children[0].children[0].addEventListener("click",function(evt){var buttonDurationName=evt.currentTarget.textContent;"checked"==evt.currentTarget.children[0].children[0].getAttribute("checked")?(filters.durationArray.splice(filters.durationArray.indexOf(buttonDurationName),1),evt.currentTarget.children[0].children[0].removeAttribute("checked"),localStorage.setItem(buttonDurationName,"false"),localbuttonDurationNameNumber--):(filters.durationArray.push(buttonDurationName),evt.currentTarget.children[0].children[0].setAttribute("checked","checked"),localStorage.setItem(buttonDurationName,"true"),localbuttonDurationNameNumber++);filter(),durationLi.children[1].children[0].innerHTML=0<localbuttonDurationNameNumber?'<i class="fas fa-clock fa-lg"></i> Durées<span class="criticNumber">'+localbuttonDurationNameNumber+"</span>":'<i class="fas fa-clock fa-lg"></i> Durées<span class="criticNumber criticNumberZero">0</span>'}.bind(this),!1);var buttonDurationName=duration.children[0].children[0].textContent,localbuttonDurationName=localStorage.getItem(buttonDurationName);"true"==localbuttonDurationName||null==localbuttonDurationName?(durationNumberBool=!0,localbuttonDurationNameNumber++,null==localbuttonDurationName&&localStorage.setItem(buttonDurationName,"true"),filters.durationArray.push(buttonDurationName),filter()):"false"==localbuttonDurationName&&duration.children[0].children[0].children[0].children[0].removeAttribute("checked")}),durationLi.children[1].children[0].innerHTML=0<localbuttonDurationNameNumber?'<i class="fas fa-clock fa-lg"></i> Durées<span class="criticNumber">'+localbuttonDurationNameNumber+"</span>":'<i class="fas fa-clock fa-lg"></i> Durées<span class="criticNumber criticNumberZero">0</span>',durationNumberBool?(localStorage.setItem("mainToggleDuration","true"),durationInput.children[0].children[0].innerHTML='Tout désélectionner<span><input id="durationButton0" type="checkbox" checked="checked"><label for="durationButton0"></label></span>'):(localStorage.setItem("mainToggleDuration","false"),durationInput.children[0].children[0].innerHTML='Tout sélectionner<span><input id="durationButton0" type="checkbox"><label for="durationButton0"></label></span>'),document.querySelectorAll(".picture-item__tags").forEach(function(tag){tag.addEventListener("click",function(){tag.parentNode.parentNode.parentNode.children[0].children[0].children[2].classList.toggle("displayNone")},!1)}),document.querySelector(".fa-trash-alt").addEventListener("click",function(){Swal.fire({title:"Êtes-vous sûr de vouloir remettre à zéro vos préférences ?",icon:"warning",showCancelButton:!0,cancelButtonText:"Annuler",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"OK"}).then(result=>{result.isConfirmed&&(Swal.fire({title:"Vos préférences ont été remises à zéro !",text:"La page en cours va être rechargée...",timer:5e3,timerProgressBar:!0,showConfirmButton:!1,icon:"success"}),localStorage.clear(),setTimeout(function(){document.location.reload()},5e3))})},!1),onkeydown=onkeyup=function(e){1==e.ctrlKey&&"f"==e.key||1==e.metaKey&&"f"==e.key?(e.preventDefault(),1==e.ctrlKey&&1==e.metaKey&&"f"==e.key||document.getElementById("filters-search-input").focus()):"Escape"==e.key&&(e.preventDefault(),document.getElementById("filters-search-input").blur())},criticButtonNumber=document.querySelectorAll(".nav-item.criticButton:not(.mainToggle)").length,networkNumber=document.querySelectorAll(".nav-item.networkButton:not(.mainToggleNetwork)").length,nationalityNumber=document.querySelectorAll(".nav-item.nationalityButton:not(.mainToggleNationality)").length,durationNumber=document.querySelectorAll(".nav-item.durationButton:not(.mainToggleDuration)").length,criticToggle0.addEventListener("click",function(){localStorage.setItem("menuBool",!0),criticArray.forEach(function(button){var buttonCriticName=button.children[0].children[0].textContent;criticNumberBool?(button.children[0].children[0].children[0].children[0].removeAttribute("checked"),localStorage.setItem(buttonCriticName,"false"),localbuttonCriticNameNumber=0,criticLi.children[1].children[0].innerHTML='<i class="fas fa-newspaper fa-lg"></i> Presse AlloCiné<span class="criticNumber criticNumberZero">0</span>'):(button.children[0].children[0].children[0].children[0].setAttribute("checked","checked"),localStorage.setItem(buttonCriticName,"true"),localbuttonCriticNameNumber=criticButtonNumber,criticLi.children[1].children[0].innerHTML='<i class="fas fa-newspaper fa-lg"></i> Presse AlloCiné<span class="criticNumber">'+localbuttonCriticNameNumber+"</span>")}),criticNumberBool=!criticNumberBool},!1),networkButton0.addEventListener("click",function(){networkArray.forEach(function(network){var networkButtonName=network.children[0].children[0].textContent;networkNumberBool?(network.children[0].children[0].children[0].children[0].removeAttribute("checked"),localStorage.setItem(networkButtonName,"false"),localbuttonNetworkNameNumber=0,networkLi.children[1].children[0].innerHTML='<i class="fas fa-tv fa-lg"></i> Plateformes<span class="criticNumber criticNumberZero">0</span>',filters.networkArray=["No network"]):(network.children[0].children[0].children[0].children[0].setAttribute("checked","checked"),localStorage.setItem(networkButtonName,"true"),localbuttonNetworkNameNumber=networkNumber,networkLi.children[1].children[0].innerHTML='<i class="fas fa-tv fa-lg"></i> Plateformes<span class="criticNumber">'+localbuttonNetworkNameNumber+"</span>",filters.networkArray.push(networkButtonName))}),filter(),networkNumberBool=!networkNumberBool},!1),nationalityButton0.addEventListener("click",function(){nationalityArray.forEach(function(nationality){var nationalityButtonName=nationality.children[0].children[0].textContent;nationalityNumberBool?(nationality.children[0].children[0].children[0].children[0].removeAttribute("checked"),localStorage.setItem(nationalityButtonName,"false"),localbuttonNationalityNameNumber=0,nationalityLi.children[1].children[0].innerHTML='<i class="fas fa-flag fa-lg"></i> Nationalités<span class="criticNumber criticNumberZero">0</span>',filters.nationalityArray=["No nationality"]):(nationality.children[0].children[0].children[0].children[0].setAttribute("checked","checked"),localStorage.setItem(nationalityButtonName,"true"),localbuttonNationalityNameNumber=nationalityNumber,nationalityLi.children[1].children[0].innerHTML='<i class="fas fa-flag fa-lg"></i> Nationalités<span class="criticNumber">'+localbuttonNationalityNameNumber+"</span>",filters.nationalityArray.push(nationalityButtonName))}),filter(),nationalityNumberBool=!nationalityNumberBool},!1),durationButton0.addEventListener("click",function(){durationArray.forEach(function(duration){var durationButtonName=duration.children[0].children[0].textContent;durationNumberBool?(duration.children[0].children[0].children[0].children[0].removeAttribute("checked"),localStorage.setItem(durationButtonName,"false"),localbuttonDurationNameNumber=0,durationLi.children[1].children[0].innerHTML='<i class="fas fa-clock fa-lg"></i> Durées<span class="criticNumber criticNumberZero">0</span>',filters.durationArray=["No duration"]):(duration.children[0].children[0].children[0].children[0].setAttribute("checked","checked"),localStorage.setItem(durationButtonName,"true"),localbuttonDurationNameNumber=durationNumber,durationLi.children[1].children[0].innerHTML='<i class="fas fa-clock fa-lg"></i> Durées<span class="criticNumber">'+localbuttonDurationNameNumber+"</span>",filters.durationArray.push(durationButtonName))}),filter(),durationNumberBool=!durationNumberBool},!1),app=document.getElementById("typewriter"),new Typewriter(app,{loop:!0,delay:50}).typeString('"T\'as vu quoi comme bonne série récemment ?"').pauseFor(2500).deleteAll().typeString('"C\'est quoi LA série à ne pas manquer ?"').pauseFor(2500).deleteAll().typeString('"Tu regardes quoi en ce moment ?"').pauseFor(2500).start()})};document.addEventListener("DOMContentLoaded",function(){new hcOffcanvasNav("#main-nav",{customToggle:".fa-bars",closeOnClick:!1,levelSpacing:0,navTitle:"Préférences",labelBack:"Retour",ariaLabels:{open:"Ouvrir menu",close:"Fermer menu",submenu:"Sous-menu"}}).on("close",function(){"true"==localStorage.getItem("menuBool")&&(document.location.reload(),localStorage.setItem("menuBool",!1))}),window.main=new DOMLoaded(document.getElementById("grid"))});